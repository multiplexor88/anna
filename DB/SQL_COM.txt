use anna;
select * from person;
SELECT * FROM person_occupation;
SELECT * FROM CONTACT;
SELECT * FROM RELIGION;
SELECT * FROM PERSON_ADDRESS;
SELECT * FROM ADDRESS;
select * from web_profile;
select * from nation;
select * from person_hobby;
select * from hobby;
select * from event;
select * from event_person;
insert into event_person values(1,3);
delete from event_person where person_id=3;

SELECT * FROM EVENT;

INSERT INTO EVENT(EVENT_DATE,EVENT_NAME,EVENT_DESCRIPTION) VALUES('1988-12-22','BIRTHDAY','IGOR DUMCHYKOV BIRTHDAY');
insert into person(FIRST_NAME, LAST_NAME) values('luda','kalinichenko');
insert into nation values('Ukraine');
insert into hobby values('Guitar'), ('football');
insert into web_profile(VK) values('http\\:ddddd');

update person set hobby_TYPE=(select hobby_type from hobby where hobby_type='footbal') where first_name='igor' and last_name='dumchykov';
update person set hobby_TYPE='Guitar' where first_name='igor' and last_name='dumchykov';
update person set nation_TYPE='Ukraine' where first_name='igor' and last_name='dumchykov';
update person set RELIGION_TYPE='Shaman' where first_name='igor' and last_name='dumchykov';

alter table person drop column hobby_type;
alter table person add (hobby_type varchar(100) default null);
alter table person add FOREIGN KEY (hobby_type) REFERENCES hobby(hobby_type) ON DELETE SET NULL ON UPDATE SET NULL;
        
insert into occupation values('electric');
update religion set religion_type='Protestant' where religion_type='ptotestant';
insert into person(FIRST_NAME, LAST_NAME, GENDER) VALUES ('IGOR', 'DUMCHYKOV', 'MALE');
insert into person(FIRST_NAME, LAST_NAME, GENDER) VALUES ('MARIANA', 'KALINICHENKO', 'FEMALE');

INSERT INTO RELIGION VALUES('ORTHODOXAL'), ('PTOTESTANT'),('CATHOLIC'),('MUSLEUM'),('BUDDIST');
INSERT INTO occupation VALUES('SOFTWARE DEVELOPER'), ('ENGINEER OF ELECTRONYC SYSTEMS'),('WEB DESIGNER'),('CHINESE TRANSLATOR'),('MUSICIAN');

UPDATE person SET RELIGION_TYPE=(SELECT * FROM RELIGION WHERE RELIGION_TYPE='ORTHODOXAL') WHERE FIRST_NAME='IGOR' AND LAST_NAME='DUMCHYKOV';

INSERT INTO person_occupation VALUES((SELECT PERSON_ID FROM PERSON WHERE FIRST_NAME='IGOR' AND LAST_NAME='DUMCHYKOV'), (SELECT * FROM occupation WHERE OCCUPATION_TYPE='CHINESE TRANSLATOR'));

DELETE FROM person_occupation WHERE PERSON_ID=(SELECT PERSON_ID FROM PERSON WHERE FIRST_NAME='IGOR' AND LAST_NAME='DUMCHYKOV') AND OCCUPATION_TYPE=(SELECT * FROM occupation WHERE OCCUPATION_TYPE='CHINESE TRANSLATOR');

/*QUERIES FOR BUTTONS*/
/*1: ADD REPSON TO PERSON TABLE*/
INSERT INTO PERSON(FIRST_NAME, LAST_NAME, PATRONYMIC, GENDER) VALUES ('SERGEY', 'GERASIMOV', NULL, 'MALE');
/*2: EDIT PERSON THAT EXISTS IN THE TABLE*/
UPDATE PERSON SET GENDER='FEMALE' WHERE FIRST_NAME='SERGEY' AND LAST_NAME='GERASIMOV';
/*3: DELETE PERSON FROM TABLE*/
DELETE FROM PERSON WHERE FIRST_NAME='SERGEY' AND LAST_NAME='GERASIMOV';

/*4 = 1*/
/* SET GENDER FOR PERSON*/
UPDATE PERSON SET GENDER='FEMALE' WHERE  FIRST_NAME='IGOR' AND LAST_NAME='DUMCHYKOV';

/*6: ADD CONTACT TO PERSON*/
UPDATE PERSON AS P SET P.CONTACT_ID=(SELECT C.CONTACT_ID FROM contact AS C WHERE C.CONTACT_ID=1) WHERE P.FIRST_NAME='IGOR';

/*7: ADD CONTACT TO CONTACT TABLE*/
/*ALTER EMAIL, BECAUSE WAS TO SMALL*/
INSERT INTO contact(CELL_NUMBER, EMAIL) VALUES ('13844909781', 'MULTIPLEXOR88@UKR.NET');
ALTER table CONTACT CHANGE EMAIL EMAIL VARCHAR(200);

/*8: EDIT CONTACT*/
UPDATE CONTACT AS C SET C.WORK_NUMBER='123456789' WHERE CONTACT_ID=1;

/*9: DELETE CONTACT*/
DELETE FROM CONTACT WHERE CONTACT_ID=(SELECT P.CONTACT_ID FROM PERSON AS P WHERE P.FIRST_NAME='IGOR' AND P.LAST_NAME='DUMCHYKOV');

/*10: ADD TO ADDRESS*/
INSERT INTO ADDRESS(COUNTRY) VALUES('UKRAINE'), ('CHINA');

/*11: ADD ADDRESS TO PERSON*/
INSERT INTO PERSON_ADDRESS values ((SELECT PERSON_ID FROM PERSON WHERE FIRST_NAME='IGOR'), (SELECT ADDRESS_ID FROM ADDRESS WHERE ADDRESS_ID=1));
SELECT * FROM PERSON_ADDRESS;

/*JOIN PERSON AND ADDRESS TABLES*/
SELECT * FROM PERSON, PERSON_ADDRESS WHERE PERSON.PERSON_ID=PERSON_ADDRESS.PERSON_ID;

UPDATE CONTACT SET CELL_NUMBER='15143718949' where CONTACT_ID=1;
INSERT INTO CONTACT(CELL_NUMBER) VALUES('0999123624'), ('0888534122'), ('00000000');
ROLLBACK;
DELETE FROM RELIGION WHERE RELIGION_TYPE='ORTHODOXAL';
INSERT INTO RELIGION values ('ORTHODOXAL');


SELECT FIRST_NAME, LAST_NAME, PATRONYMIC, GENDER, CONTACT_ID, ADDRESS_ID FROM PERSON AS P LEFT OUTER JOIN PERSON_ADDRESS AS PA ON P.PERSON_ID=PA.PERSON_ID ORDER BY LAST_NAME DESC;
